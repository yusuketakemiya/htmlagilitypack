[
  {
    "Id": "269410",
    "ThreadId": "78683",
    "Html": "<p>given this example html<br><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">html</span><span style=\"color:Blue\">&gt;</span><br>&nbsp; <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">div</span><span style=\"color:Blue\">&gt;<br></span><span style=\"color:Blue\">&nbsp;&nbsp;&nbsp; &lt;</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>Elem_A<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>String_A1_1 String_A1_2<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><br>&nbsp;&nbsp;&nbsp; <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>Elem_B<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>String_B1_1 String_B1_2<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span> <br>&nbsp; <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">div</span><span style=\"color:Blue\">&gt;</span><br>&nbsp; <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">div</span><span style=\"color:Blue\">&gt;</span><br>&nbsp;&nbsp;&nbsp; <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>Elem_A<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>String_A2_1 <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">String_A2_2</span><span style=\"color:Blue\">&gt;</span> String_A2_3<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><br>&nbsp;&nbsp;&nbsp; <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>Elem_B<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>String_B2_1 String_B2_2<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><br>&nbsp; <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">div</span><span style=\"color:Blue\">&gt;</span><br><span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">html</span><span style=\"color:Blue\">&gt;<br></span><br>when i try to get the p nodes using the XPath &quot;//p&quot; the return is as following<br><br><code><span>lststrText</span><span>[</span><span>0</span><span>]</span><span> </span><span>=</span><span> </span><span>&quot;&lt;strong&gt;Elem_A&lt;/strong&gt;String_A1_1 String_A1_2&quot;</span><span> &nbsp;<br>lststrText</span><span>[</span><span>1</span><span>]</span><span> </span><span>=</span><span> </span><span>&quot;&lt;strong&gt;Elem_B&lt;/strong&gt;String_B1_1 String_B1_2&quot;</span><span> &nbsp;<br>lststrText</span><span>[</span><span>2</span><span>]</span><span> </span><span>=</span><span> </span><span>&quot;&quot;</span><span> &nbsp;<br>lststrText</span><span>[</span><span>3</span><span>]</span><span> </span><span>=</span><span> </span><span>&quot;&quot;</span><span> &nbsp;<br>lststrText</span><span>[</span><span>4</span><span>]</span><span> </span><span>=</span><span> </span><span>&quot;&lt;strong&gt;Elem_B&lt;/strong&gt;String_B2_1 String_B2_2&quot;<br><br>but i think this is wrong since the &lt;String_A2_2&gt; is not a known html tag and so it should be treated as it dont need a close Tag.<br>i tried to play with all the options flags but i couldnt change this behaviour.<br></span></code><code><span>what i figured out is that the html agility pack figures out that the &lt;String_A2_2&gt; tag actually encloses &quot;<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>Elem_B<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">strong</span><span style=\"color:Blue\">&gt;</span>String_B2_1 String_B2_2<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">p</span><span style=\"color:Blue\">&gt;&quot;<br></span></span></code></p>\r\n<p><code><span>i tried SgmlReader &quot;<a href=\"http://developer.mindtouch.com/SgmlReader\">http://developer.mindtouch.com/SgmlReader</a>&quot; and it did fix the &lt;String_A2_2&gt; to &lt;String_A2_2&gt;&lt;/String_A2_2&gt;.</span></code></p>\r\n<p><code><span>so the questin is &quot;is there is a way to let htmlagility pack treats non html elemets as not required to be closed?</span></code></p>\r\n<p><code><span>thanks </span></code></p>\r\n<p><code><span>below is the code that i used to get this result</span></code></p>\r\n<p><code><span></span></code>\r\n<p>&nbsp;</p>\r\n</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>HtmlAgilityPack.HtmlDocument objHtmlDocument = <span style=\"color:Blue\">new</span> HtmlAgilityPack.HtmlDocument();\r\nobjHtmlDocument.LoadHtml(strHtml);\r\nHtmlAgilityPack.HtmlNodeCollection colnodePs = objHtmlDocument.DocumentNode.SelectNodes(<span style=\"color:#A31515\">&quot;//p&quot;</span>);\r\nList&lt;<span style=\"color:Blue\">string</span>&gt; lststrText = <span style=\"color:Blue\">new</span> List&lt;<span style=\"color:Blue\">string</span>&gt;();\r\n<span style=\"color:Blue\">foreach</span> (HtmlAgilityPack.HtmlNode nodeP <span style=\"color:Blue\">in</span> colnodePs)\r\n{\r\n\tlststrText.Add(nodeP.InnerHtml);\r\n}\r\n</pre>\r\n</div>",
    "PostedDate": "2009-12-20T12:07:19.57-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "270356",
    "ThreadId": "78683",
    "Html": "<p>Don't play with the Options flags, but play with the Elements flags (defined in HtmlNode.cs). HTML is not XML, and allows overlaps, unclosed tags, etc... see other posts about the Elements flags.</p>",
    "PostedDate": "2009-12-23T09:51:02.873-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]