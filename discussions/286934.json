[
  {
    "Id": "728660",
    "ThreadId": "286934",
    "Html": "\r\n<p>Hello, I'm a beginner in using HtmlAgilityPack and XPath.</p>\r\n<p>I have download and install the Pack and the Pack Tester. Using the Tester I have gotten an XPath.</p>\r\n<p>&nbsp;</p>\r\n<p>My problem is that in my code (see below) SelectSingleNode will always return null when using the xpath that I got from the Tester!</p>\r\n<p>I have tried it in HAP Testbed v 1.1 and it works there so what am I doing wrong?</p>\r\n<p>The code below should set result to &quot;1960&quot;</p>\r\n<p>// Anders</p>\r\n<pre><div><pre>HtmlWeb hw = <span>new</span> HtmlWeb();\r\nHtmlAgilityPack.HtmlDocument doc = hw.Load(<span>&quot;http://allmusic.com/artist/buddy-emmons-p631/credits&quot;</span>);\r\n<span>string</span> xpath = <span>&quot;/html[1]/body[1]/div[1]/div[5]/div[1]/div[1]/div[3]/table[1]/tr[7]/td[1]&quot;</span>;\r\nHtmlNode htmlnode = doc.DocumentNode.SelectSingleNode(xpath);\r\n<span>if</span> (htmlnode != <span>null</span>)\r\n{ \r\nresult = htmlnode.InnerText;\r\n}</pre>\r\n</div>\r\n</pre>\r\n",
    "PostedDate": "2012-01-21T07:39:40.7-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "728773",
    "ThreadId": "286934",
    "Html": "<p>Ok, I have found the problem! This time it wasn't me!!!</p>\r\n<p>I have installed HtmlAgilityPack via NuGet and it installed version 1.4.3</p>\r\n<p>This version has an error when handling tables!</p>\r\n<p>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\"&gt;<br />&lt;html&gt;&nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;head&gt;&nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;title&gt;hap test table&lt;/title&gt;&nbsp;<br /><span style=\"white-space: pre;\"> </span>&lt;/head&gt;&nbsp;<br /><span style=\"white-space: pre;\"> </span>&lt;body&gt;&nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;table&gt;&nbsp; &nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;tr&gt;&nbsp; &nbsp; &nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;td&gt;foo&lt;/td&gt;&nbsp; &nbsp; &nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;td&gt;bar&lt;/td&gt; &nbsp; &nbsp;&nbsp;<br /><span style=\"white-space: pre;\"> </span>&lt;/tr&gt;&nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;/table&gt;&nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;/body&gt;<br />&lt;/html&gt;</p>\r\n<p>becomes</p>\r\n<p>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\"&gt;<br />&lt;html&gt;&nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;head&gt;&nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;title&gt;hap test table&lt;/title&gt;&nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;/head&gt;&nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;body&gt;&nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;table&gt;&nbsp; &nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;tr&gt;&nbsp; &nbsp; &nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;td&gt;foo&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br /><span style=\"white-space: pre;\"> </span>&lt;td&gt;bar<br /><span style=\"white-space: pre;\"> </span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&nbsp;<br /><span style=\"white-space: pre;\"> </span>&lt;/body&gt;<br />&lt;/html&gt;</p>\r\n<p>If I go back to version 1.4.0 then it works like it should...</p>\r\n<p>I guess I have to make an Issue of this...</p>\r\n<p>// Anders</p>",
    "PostedDate": "2012-01-21T13:38:03.097-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "732964",
    "ThreadId": "286934",
    "Html": "<p>Same problem is valid for the list elements in revision 94773.</p>",
    "PostedDate": "2012-01-30T20:11:32.163-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "735990",
    "ThreadId": "286934",
    "Html": "<p>I found that the table handling error&nbsp;is caused by different logic from 1.4 stable version.</p>\n<p>You can see that it is different on the searching name ( one is from parameter and one is&nbsp;_currentnode.Name)</p>\n<p>1.4 stable version<br />HtmlDocument.cs line 1122</p>\n<p><span>&nbsp;</span></p>\n<div style=\"color: black; background-color: white;\">\n<pre>        <span style=\"color: blue;\">private</span> HtmlNode FindResetterNode(HtmlNode node, <span style=\"color: blue;\">string</span> name)\n        {\n            HtmlNode resetter = (HtmlNode)_lastnodes[name];\n            <span style=\"color: blue;\">if</span> (resetter == <span style=\"color: blue;\">null</span>)\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">null</span>;\n            <span style=\"color: blue;\">if</span> (resetter.Closed)\n            {\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">null</span>;\n            }\n            <span style=\"color: blue;\">if</span> (resetter._streamposition &lt; node._streamposition)\n            {\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">null</span>;\n            }\n            <span style=\"color: blue;\">return</span> resetter;\n        }\n\n        <span style=\"color: blue;\">private</span> <span style=\"color: blue;\">bool</span> FindResetterNodes(HtmlNode node, <span style=\"color: blue;\">string</span>[] names)\n        {\n            <span style=\"color: blue;\">if</span> (names == <span style=\"color: blue;\">null</span>)\n            {\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">false</span>;\n            }\n            <span style=\"color: blue;\">for</span> (<span style=\"color: blue;\">int</span> i = 0; i &lt; names.Length; i++)\n            {\n                <span style=\"color: blue;\">if</span> (FindResetterNode(node, names[i]) != <span style=\"color: blue;\">null</span>)\n                {\n                    <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">true</span>;\n                }\n            }\n            <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">false</span>;\n        }\n</pre>\n</div>\n<p>current&nbsp;&nbsp;revision 9477<br />HtmlDocument.cs line 1190</p>\n<div style=\"color: black; background-color: white;\">\n<pre>       <span style=\"color: blue;\">private</span> HtmlNode FindResetterNode(HtmlNode node)\n        {\n            HtmlNode resetter = Utilities.GetDictionaryValueOrNull(Lastnodes, _currentnode.Name);\n            <span style=\"color: blue;\">if</span> (resetter == <span style=\"color: blue;\">null</span>)\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">null</span>;\n\n            <span style=\"color: blue;\">if</span> (resetter.Closed)\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">null</span>;\n\n            <span style=\"color: blue;\">return</span> resetter._streamposition &lt; node._streamposition ? <span style=\"color: blue;\">null</span> : resetter;\n        }\n\n        <span style=\"color: blue;\">private</span> <span style=\"color: blue;\">bool</span> FindResetterNodes(HtmlNode node, <span style=\"color: blue;\">string</span>[] names)\n        {\n            <span style=\"color: blue;\">if</span> (names == <span style=\"color: blue;\">null</span>)\n                <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">false</span>;\n\n            <span style=\"color: blue;\">for</span> (<span style=\"color: blue;\">int</span> i = 0; i &lt; names.Length; i++)\n            {\n                <span style=\"color: blue;\">if</span> (FindResetterNode(node) != <span style=\"color: blue;\">null</span>)\n                    <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">true</span>;\n            }\n            <span style=\"color: blue;\">return</span> <span style=\"color: blue;\">false</span>;\n        }\n\n</pre>\n</div>",
    "PostedDate": "2012-02-01T21:39:40.68-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]