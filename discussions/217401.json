[
  {
    "Id": "460153",
    "ThreadId": "217401",
    "Html": "<p>I use Html Agility Pack for parse a html page, that's a asp.net webform project. the page html code</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;!</span><span style=\"color:#a31515\">DOCTYPE</span> <span style=\"color:red\">html</span> <span style=\"color:red\">PUBLIC</span> <span style=\"color:blue\">&quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;</span> <span style=\"color:blue\">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">html</span> <span style=\"color:red\">xmlns</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot;</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">head</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">meta</span> <span style=\"color:red\">http-equiv</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;Content-Type&quot;</span> <span style=\"color:red\">content</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;text/html; charset=utf-8&quot;</span> <span style=\"color:blue\">/&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">title</span><span style=\"color:blue\">&gt;</span>\r\n \r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">title</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">link</span> <span style=\"color:red\">href</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;Styles/Site.css&quot;</span> <span style=\"color:red\">rel</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;stylesheet&quot;</span> <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;text/css&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">head</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">body</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">form</span> <span style=\"color:red\">method</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;post&quot;</span> <span style=\"color:red\">action</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;G1.aspx&quot;</span> <span style=\"color:red\">id</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;ctl01&quot;</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;aspNetHidden&quot;</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">input</span> <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;hidden&quot;</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;__VIEWSTATE&quot;</span> <span style=\"color:red\">id</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;__VIEWSTATE&quot;</span> <span style=\"color:red\">value</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;/wEPDwUKMTY1NDU2MTA1MmRkNjIzt9U3S0Qq5Vae9T2dSOGuayLmn1JWS6o31dNezFA=&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n \r\n \r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">script</span> <span style=\"color:red\">src</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;/WebSite1/WebResource.axd?d=xfbBYE4wQsueirpLsCWgxQVrmhLNJczvEu8-H_BOwlQ1&amp;amp;t=634103057810714000&quot;</span> <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;text/javascript&quot;</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">script</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;page&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;header&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;title&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">h1</span><span style=\"color:blue\">&gt;</span>\r\n                    我的 ASP.NET 应用程序\r\n                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">h1</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;loginDisplay&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                \r\n                        [ <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">a</span> <span style=\"color:red\">href</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;Account/Login.aspx&quot;</span> <span style=\"color:red\">id</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;HeadLoginView_HeadLoginStatus&quot;</span><span style=\"color:blue\">&gt;</span>登录<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">a</span><span style=\"color:blue\">&gt;</span> ]\r\n                    \r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;clear hideSkiplink&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">a</span> <span style=\"color:red\">href</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;#NavigationMenu_SkipLink&quot;</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">img</span> <span style=\"color:red\">alt</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;跳过导航链接&quot;</span> <span style=\"color:red\">src</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;/WebSite1/WebResource.axd?d=_V9kr3rfsoIxNEQid9kj6A2&amp;amp;t=634103057810714000&quot;</span> <span style=\"color:red\">width</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;0&quot;</span> <span style=\"color:red\">height</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;0&quot;</span> <span style=\"color:red\">style</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;border-width:0px;&quot;</span> <span style=\"color:blue\">/&gt;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">a</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;menu&quot;</span> <span style=\"color:red\">id</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;NavigationMenu&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ul</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;level1&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">li</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">a</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;level1&quot;</span> <span style=\"color:red\">href</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;Default.aspx&quot;</span><span style=\"color:blue\">&gt;</span>主页<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">a</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">li</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">li</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">a</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;level1&quot;</span> <span style=\"color:red\">href</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;About.aspx&quot;</span><span style=\"color:blue\">&gt;</span>关于<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">a</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">li</span><span style=\"color:blue\">&gt;</span>\r\n\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">ul</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">a</span> <span style=\"color:red\">id</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;NavigationMenu_SkipLink&quot;</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">a</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;main&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            \r\n \r\n \r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;clear&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">div</span> <span style=\"color:red\">class</span><span style=\"color:blue\">=</span><span style=\"color:blue\">&quot;footer&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        ssss\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">div</span><span style=\"color:blue\">&gt;</span>\r\n    \r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">script</span> <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:blue\">'text/javascript'</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">new</span> Sys.WebForms.Menu({ element: <span style=\"color:#a31515\">'NavigationMenu'</span>, disappearAfter: 500, orientation: <span style=\"color:#a31515\">'horizontal'</span>, tabIndex: 0, disabled: <span style=\"color:blue\">false</span> });<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">script</span><span style=\"color:blue\">&gt;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">form</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">body</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">html</span><span style=\"color:blue\">&gt;</span>\r\n\r\n\r\n</pre>\r\n</div>\r\n</p>\r\n<p>I make a generate xpath xml with jquery. It's like HAPExplorer.</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre>$(document).ready(<span style=\"color:blue\">function</span> () {\r\n    <span style=\"color:blue\">var</span> doc = $(document);\r\n    doc.bind(<span style=\"color:#a31515\">&quot;mouseover&quot;</span>, <span style=\"color:blue\">function</span> (e) {\r\n        $(e.target).toggleClass(<span style=\"color:#a31515\">&quot;beselect&quot;</span>);\r\n    });\r\n    doc.bind(<span style=\"color:#a31515\">&quot;mouseout&quot;</span>, <span style=\"color:blue\">function</span> (e) {\r\n        $(e.target).toggleClass(<span style=\"color:#a31515\">&quot;beselect&quot;</span>);\r\n    });\r\n    doc.bind(<span style=\"color:#a31515\">&quot;click&quot;</span>, <span style=\"color:blue\">function</span> (e) {\r\n        <span style=\"color:blue\">var</span> src = e.target,\r\n            path = getNodeXpath(src);\r\n        alert(path);\r\n    });\r\n});\r\n\r\n<span style=\"color:blue\">function</span> getNodeXpath(node) {\r\n    <span style=\"color:blue\">var</span> parent = node.parentNode;\r\n    <span style=\"color:blue\">if</span> (parent == document)\r\n        <span style=\"color:blue\">return</span> <span style=\"color:#a31515\">&quot;/html[1]&quot;</span>;\r\n    <span style=\"color:blue\">var</span> pchildren = parent.children,\r\n        nodeName = node.nodeName,\r\n        i = 1, j = 0, plen = pchildren.length;\r\n    <span style=\"color:blue\">for</span> (; j &lt; plen; j++) {\r\n        <span style=\"color:blue\">if</span> (pchildren[j].nodeName != nodeName) <span style=\"color:blue\">continue</span>;\r\n        <span style=\"color:blue\">if</span> (pchildren[j] == node) <span style=\"color:blue\">break</span>;\r\n        i++;\r\n    }\r\n    <span style=\"color:blue\">return</span> getNodeXpath(parent) + <span style=\"color:#a31515\">&quot;/&quot;</span> + nodeName + <span style=\"color:#a31515\">&quot;[&quot;</span> + i + <span style=\"color:#a31515\">&quot;]&quot;</span>;\r\n}\r\n</pre>\r\n</div>\r\n</p>\r\n<p>The problem is front generate xpath is not match Html Agility Pack's xpath. I discover HAP parse the form node wrong.what can I do for fix this?</p>",
    "PostedDate": "2010-06-26T00:10:58.263-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "462996",
    "ThreadId": "217401",
    "Html": "<p>I find the anwser at http://htmlagilitypack.codeplex.com/Thread/View.aspx?ThreadId=17922</p>\r\n<p>thx HAP.</p>",
    "PostedDate": "2010-07-03T01:25:20.133-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]