[
  {
    "Id": "1056109",
    "ThreadId": "446869",
    "Html": "I am using HTML Agility Pack to scrape websites for my Windows Store app. The version for Windows 8 store apps does not support XPath nor does it have a selectNodes function, but it does support lambda expressions to look up the values needed. <br />\n<br />\nAfter extensively searching the web the only solution I see (over and over again) is to use DocumentNode.Descendants() to get back a list of elements to search within. However, for me, DocumentNode.Descendants() always returns back null values. This happens whether or not I pass in a parameter to the function. <br />\n<br />\nI am getting back a response though. I can see the html for the page inside of the HtmlDocument object. <br />\n<br />\nCode Snippet:<br />\n<pre><code>    HttpContent loginContent = new FormUrlEncodedContent(new[]\n    {\n             new KeyValuePair&lt;string, string&gt;(&quot;name&quot;, username),\n             new KeyValuePair&lt;string, string&gt;(&quot;password&quot;, password)\n    }\n    \n    HttpResponseMessage response = await httpClient.GetAsync(httpClient.BaseAddress); //Gets the cookie\n    \n    response = await httpClient.PostAsync(loginPageAddress, loginContent); //Logs in\n    HtmlDocument doc = new HtmlDocument();\n    doc.Load(new StringReader(await response.Content.ReadAsStringAsync())); // Loads doc, can see html for the page in doc.text attribute now\n                \n    \n    HtmlNode pointsNode = doc.DocumentNode.Descendants(&quot;div&quot;).Where(o =&gt; o.Attributes[&quot;class&quot;].Value == &quot;availableNumber&quot;).FirstOrDefault(); // fails because Descendants returns null values</code></pre>\n\nFrom debugging in my immediate window:<br />\n<pre><code>    doc.DocumentNode.Descendants(&quot;div&quot;)\n    {HtmlAgilityPack.HtmlNode.Descendants}\n        name: null\n        System.Collections.Generic.IEnumerator&lt;HtmlAgilityPack.HtmlNode&gt;.Current: null\n        System.Collections.IEnumerator.Current: null</code></pre>\n\nAny help solving this issue will be greatly appreciated! Thanks all.<br />\n",
    "PostedDate": "2013-06-12T16:01:59.077-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]